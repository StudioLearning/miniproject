@using Contentful.Core.Models
@using miniproject.Models.Contentful

@model Lesson

@{
    ViewData["Title"] = "Course";
    Lesson lesson = Model;
}
<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a class="text-decoration-none" asp-area="" asp-controller="Home"
                asp-action="Index"><i class="fas fa-home"></i> หน้าแรก</a></li>
        <li class="breadcrumb-item"><a class="text-decoration-none" asp-area="" asp-controller="Course"
                asp-action="Index">คอร์ส</a>
        </li>
        <li class="breadcrumb-item active" aria-current="page">@Model.sku</li>
    </ol>
</nav>

<div class="row pt-5 pb-5">
    <div class="col-12">
        @Html.Partial("_Stepper", Stepper.SELECT)
    </div>
</div>

<h1>@ViewData["Title"] @Model.name</h1>
<div class="row">
    <div class="col">
        <p class="fw-bold fs-3">
            <i class="far fa-star" style="color: #FFD43B"></i>
            ตัวอย่างคอร์สเรียน @Model.name
        </p>
    </div>
</div>

<div class="row text-center">
    <div class="col">
        <iframe width="100%" height="315" src="@(ViewData["examplevideo"])?controls=0" title="YouTube video player"
            frameborder="0"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
            allowfullscreen></iframe>
    </div>
</div>

<div class="row pt-4">
    <div class="col" style="text-indent: 2rem; font-size: 1.2rem">
        <contentful-rich-text document="@(Model.content)"></contentful-rich-text>
    </div>
</div>
<div class="row text-center">
    <div class="col-12">
        <p>
            @foreach (var courseType in Model.courses)
            {
                <span class="p-3">
                    <a class="link text-decoration-none" asp-area="" asp-controller="Course" asp-action="Type"
                    asp-route-id="@(courseType.name)">
                        <i class="@Html.Raw(courseType.fontIconTag)"></i> @(courseType.name)
                    </a>
                </span>
            }
        </p>
    </div>
    <div class="col-12 fs-3 fw-bold">
        <partial name="_RateStar" />
        <p>THB@(Model.price)</p>
    </div>
    <div class="col-12 pb-3 teacher">
        <img class="mx-auto rounded-circle" src="@(lesson?.teacher?.image?.File.Url)" alt="teacher" />
        <h4>
            <a class="link text-dark text-decoration-none" asp-area="" asp-controller="Course" asp-action="Teacher"
                asp-route-id="@(lesson?.teacher?.teacherId)">
                <i class="fas fa-graduation-cap"></i> @(lesson?.teacher?.teacherName)
            </a>
        </h4>
    </div>
    <div class="col-12 pb-5">
        <a class="btn btn-primary" asp-area="" asp-controller="Order" asp-action="Course" asp-route-id="@Model.sku">
            Buy Course <i class="fas fa-arrow-right"></i>
        </a>
    </div>
</div>
